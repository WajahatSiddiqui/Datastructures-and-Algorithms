import java.util.Scanner;
import java.util.Stack;


public class TwoStacks {
	private static Stack<Integer> s1 = new Stack<>();
	private static Stack<Integer> s2 = new Stack<>();
	private static int front = -1;
	
	public static void enqueue(int item) {
		if (s1.isEmpty() && s2.isEmpty()) front = item;
		s1.push(item);
	}
	
	public static void dequeue() {
		
	}
	
	public static int front() { return front; }
	
	public static void main(String args[]) {
		Scanner scanner = new Scanner(System.in);
		int q = scanner.nextInt();
		int type, item;
		while (q != 0) {
			type = scanner.nextInt();
			switch (type) {
			case 1:
				item = scanner.nextInt();
				enqueue(item);
				break;
			case 2:
				dequeue();
				break;
			case 3:
				System.out.println(front());
				break;
			default:
				break;
			}
			q--;
		}
		scanner.close();
	}
}
